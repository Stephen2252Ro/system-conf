"use strict";__filename="background/utils.js",define(["require","exports","./store"],(e,t)=>{Object.defineProperty(t,"__esModule",{value:true}),t.t=t.o=t.a=t.n=t.s=t.c=t.l=t.m=t.d=t.g=t.k=t.v=t.et=t.tt=t.ot=t.at=t.nt=t.rt=t.st=t.ct=t.lt=t.it=t.mt=t.ut=t.bt=t.dt=t.pt=t.gt=t.ft=void 0,t.ft=/\s+/g,t.gt=/^[a-z][\+\-\.\da-z]+:\/\//,t.pt=(e,t)=>{for(let o in t)o in e||(e[o]=t[o]);return e},t.dt=e=>Array.from(e.keys());let o=/a?/;t.bt=()=>o.test(""),t.ut=(e,t,o)=>{let a=o<e.length&&o>t?e.charCodeAt(o-1):0;return e.slice(t,o+=a>=55296&&a<56320?1:8205===a&&o>t+1?-1:0)},t.mt=(e,t,o)=>{let a=t>0&&t<e.length?e.charCodeAt(t):0;return e.slice(t+=a>=56320&&a<=57343?-1:8205===a&&t<e.length-1&&t<o-1?1:0,o)},t.it=e=>{function o(e){let t=e.charCodeAt(0);return 38===t?"&amp;":39===t?"&apos;":t<39?"&quot;":60===t?"&lt;":"&gt;"}return t.it=e=>e.replace(/["&'<>]/g,o),t.it(e)},t.lt=e=>58===e.charCodeAt(10)&&"javascript"===e.slice(0,10).toLowerCase();let a=["","",".ac.ad.ae.af.ag.ai.al.am.ao.aq.ar.as.at.au.aw.ax.az.ba.bb.bd.be.bf.bg.bh.bi.bj.bm.bn.bo.br.bs.bt.bv.bw.by.bz.ca.cc.cd.cf.cg.ch.ci.ck.cl.cm.cn.co.cr.cu.cv.cw.cx.cy.cz.de.dj.dk.dm.do.dz.ec.ee.eg.er.es.et.eu.fi.fj.fk.fm.fo.fr.ga.gb.gd.ge.gf.gg.gh.gi.gl.gm.gn.gp.gq.gr.gs.gt.gu.gw.gy.hk.hm.hn.hr.ht.hu.id.ie.il.im.in.io.iq.ir.is.it.je.jm.jo.jp.ke.kg.kh.ki.km.kn.kp.kr.kw.ky.kz.la.lb.lc.li.lk.lr.ls.lt.lu.lv.ly.ma.mc.md.me.mg.mh.mk.ml.mm.mn.mo.mp.mq.mr.ms.mt.mu.mv.mw.mx.my.mz.na.nc.ne.nf.ng.ni.nl.no.np.nr.nu.nz.om.pa.pe.pf.pg.ph.pk.pl.pm.pn.pr.ps.pt.pw.py.qa.re.ro.rs.ru.rw.sa.sb.sc.sd.se.sg.sh.si.sj.sk.sl.sm.sn.so.sr.st.su.sv.sx.sy.sz.tc.td.tf.tg.th.tj.tk.tl.tm.tn.to.tr.tt.tv.tw.tz.ua.ug.uk.us.uy.uz.va.vc.ve.vg.vi.vn.vu.wf.ws.ye.yt.za.zm.zw",".aaa.abb.abc.aco.ads.aeg.afl.aig.anz.aol.app.art.aws.axa.bar.bbc.bbt.bcg.bcn.bet.bid.bio.biz.bms.bmw.bnl.bom.boo.bot.box.buy.bzh.cab.cal.cam.car.cat.cba.cbn.cbs.ceb.ceo.cfa.cfd.com.crs.csc.dad.day.dds.dev.dhl.diy.dnp.dog.dot.dtv.dvr.eat.eco.edu.esq.eus.fan.fit.fly.foo.fox.frl.ftr.fun.fyi.gal.gap.gdn.gea.gle.gmo.gmx.goo.gop.got.gov.hbo.hiv.hkt.hot.how.ibm.ice.icu.ifm.inc.ing.ink.int.ist.itv.iwc.jcb.jcp.jio.jlc.jll.jmp.jnj.jot.joy.kfh.kia.kim.kpn.krd.lat.law.lds.llc.lol.lpl.ltd.man.map.mba.med.men.mil.mit.mlb.mls.mma.moe.moi.mom.mov.msd.mtn.mtr.nab.nba.nec.net.new.nfl.ngo.nhk.now.nra.nrw.ntt.nyc.obi.off.one.ong.onl.ooo.org.ott.ovh.pay.pet.phd.pid.pin.pnc.pro.pru.pub.pwc.qvc.red.ren.ril.rio.rip.run.rwe.sap.sas.sbi.sbs.sca.scb.ses.sew.sex.sfr.ski.sky.soy.srl.srt.stc.tab.tax.tci.tdk.tel.thd.tjx.top.trv.tui.tvs.ubs.uno.uol.ups.vet.vig.vin.vip.wed.win.wme.wow.wtc.wtf.xin.xxx.xyz.you.yun",".aero.arpa.asia.auto.band.beer.chat.city.club.cool.coop.date.fans.fund.game.gift.gold.guru.help.host.info.jobs.life.link.live.loan.love.luxe.mobi.name.news.pics.plus.shop.show.site.sohu.team.tech.wang.wiki.work.yoga.zone",".citic.cloud.email.games.group.local.onion.party.photo.press.rocks.space.store.today.trade.video.world",".center.design.lawyer.market.museum.online.social.studio.travel",".company.fashion.science.website",".engineer.software"];t.ct=()=>Object.create(null),t.st=e=>Object.setPrototypeOf(e,null),t.rt=(e,t)=>!t&&/[^a-z]/.test(e)?/^xn--[\x20-\x7f]+/.test(e)||".\u4e2d\u4fe1.\u4e2d\u56fd.\u4e2d\u570b.\u4e2d\u6587\u7f51.\u4f01\u4e1a.\u4f5b\u5c71.\u4fe1\u606f.\u516c\u53f8.\u516c\u76ca.\u5546\u57ce.\u5546\u5e97.\u5546\u6807.\u5728\u7ebf.\u5a31\u4e50.\u5e7f\u4e1c.\u6211\u7231\u4f60.\u624b\u673a.\u62db\u8058.\u653f\u52a1.\u6e38\u620f.\u7f51\u5740.\u7f51\u5e97.\u7f51\u5e97.\u7f51\u7edc.\u8d2d\u7269.\u96c6\u56e2.\u9910\u5385.".includes("."+e+".")?2:0:e&&e.length<a.length&&a[e.length].includes(e)?1:0,t.nt=e=>{let o=e.toLowerCase().split("."),a=o.length;return[o,0===t.rt(o[a-1])?1:a>2&&2===o[a-1].length&&1===t.rt(o[a-2])?3:2]},t.at=(e,o)=>!!(6!==o&&/^\d{1,3}(?:\.\d{1,3}){3}$/.test(e)||4!==o&&/^\[[\da-f]{0,4}(?::[\da-f]{0,4}){1,5}(?:(?::[\da-f]{0,4}){1,2}|:\d{0,3}(?:\.\d{0,3}){3})]$/.test(e))&&!!t.ot("http://"+e),t.ot=e=>{try{return new URL(e)}catch(e){return null}},t.tt=(e,t)=>{if(!e)return"";try{e=(t?"atob"===t?atob:decodeURI:decodeURIComponent)(e)}catch(e){}return e},t.et=e=>{let o=e.replace(/%25/g,"%2525").replace(/%(?![\da-zA-Z]{2})/g,"%25"),a=t.tt(o,1);return a=a.length!==o.length?a:e,(t.gt.test(a)||a.startsWith("data:")||a.startsWith("about:")||t.lt(a))&&(a=a.trim().replace(t.ft,encodeURIComponent)),a},t.v=e=>(e=!e.includes("://")&&/%(?:2[36f]|3[adf])/i.test(e)?t.tt(e).trim():e,t.et(e)),t.k=(e,t)=>(t?e:encodeURI(e)).replace(/%(?:[CD].%..|E.%..%..)/g,e=>{let t=decodeURIComponent(e);return/[\p{L}\p{N}]/u.test(t)?t:e}),t.g=e=>e.replace(/[^\p{L}\p{N}]+/gu,encodeURIComponent),t.d=e=>(e=e.slice(0,8).toLowerCase()).startsWith("http://")?7:"https://"===e?8:0,t.m=e=>e.trim()?e.trim().split(/[.\s]+/g).sort().filter(e=>!!e):[],t.l=(e,t,o)=>{try{return new RegExp(e,t)}catch(a){0===o||console.log("%c/%s/%s","color:#c41a16",e,t,"is not a valid regexp.")}return null};let n=null,r=e=>{n=e};t.c=()=>{let e=new Promise(r),t=n;return n=null,{wt:e,ht:t}},t.s=e=>{queueMicrotask(e)},t.n=(e,t,o)=>{let a=()=>{o&&false===o()&&(n=0);for(let o=0,a=0;o<128&&a<512&&n>0;){let r=t(e[--n]);if(r>0)o++,a+=r;else if(r<0)break}n>0&&(e.length=n,setTimeout(a,150))},n=e.length;n>=50?setTimeout(a,17):e.length>0&&a()},t.a=e=>{let t=e.endsWith(".json");return e=e.includes("/")?e:"/front/"+e,fetch(e).then(e=>t?e.json():e.text())},t.o=e=>e.replace(/[$()*+.?\[\\\]\^{|}]/g,"\\$&");let s="",c=0;t.t=e=>{let t=Date.now();if(t-c>8e3){if(!e)return"";let t=new Uint8Array(8);crypto.getRandomValues(t),s=t.reduce((e,t)=>e+(t<16?"0":"")+t.toString(16),"")}return c=t,s}});