/*!
 * Viewer.js v1.10.1
 * https://fengyuanchen.github.io/viewerjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2021-08-10T12:34:19.870Z
 */
((t,i)=>{"function"==typeof define&&true?define(i):(t="undefined"!=typeof globalThis?globalThis:t||self).Viewer=i()})(this,function(){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t=>typeof t:t=>t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t)(i)}function i(t,i){var s,h;for(s=0;s<i.length;s++)(h=i[s]).enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,h.key,h)}function s(t,i){var s,h=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),i&&(s=s.filter(i=>Object.getOwnPropertyDescriptor(t,i).enumerable)),h.push.apply(h,s)),h}function h(t){var i,h;for(i=1;i<arguments.length;i++)h=null!=arguments[i]?arguments[i]:{},i%2?s(Object(h),!0).forEach(i=>{var s,e;i=h[e=i],e in(s=t)?Object.defineProperty(s,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[e]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(h)):s(Object(h)).forEach(i=>{Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(h,i))});return t}function e(t){return"string"==typeof t}function a(t){return"number"==typeof t&&!gt(t)}function r(t){return void 0===t}function n(i){return"object"===t(i)&&null!==i}function o(t){if(!n(t))return!1;try{var i=t.constructor,s=i.prototype;return i&&s&&yt.call(s,"isPrototypeOf")}catch(t){return!1}}function l(t){return"function"==typeof t}function c(t,i){if(t&&l(i))if(Array.isArray(t)||a(t.length))for(var s=t.length,h=0;h<s&&!1!==i.call(t,t[h],h,t);h+=1);else n(t)&&Object.keys(t).forEach(s=>{i.call(t,t[s],s,t)});return t}function d(t,i){var s=t.style;c(i,(t,i)=>{kt.test(i)&&a(t)&&(t+="px"),s[i]=t})}function u(t,i){return t&&i&&(t.classList?t.classList.contains(i):-1<t.className.indexOf(i))}function v(t,i){var s;t&&i&&(a(t.length)?c(t,t=>{v(t,i)}):t.classList?t.classList.add(i):(s=t.className.trim())?s.indexOf(i)<0&&(t.className=s+" "+i):t.className=i)}function m(t,i){t&&i&&(a(t.length)?c(t,t=>{m(t,i)}):t.classList?t.classList.remove(i):0<=t.className.indexOf(i)&&(t.className=t.className.replace(i,"")))}function b(t,i,s){i&&(a(t.length)?c(t,t=>{b(t,i,s)}):(s?v:m)(t,i))}function f(t){return t.replace(Tt,"$1-$2").toLowerCase()}function w(t,i){return n(t[i])?t[i]:t.dataset?t.dataset[i]:t.getAttribute("data-"+f(i))}function p(t,i,s){n(s)?t[i]=s:t.dataset?t.dataset[i]=s:t.setAttribute("data-"+f(i),s)}function g(t,i,s,h){var e=3<arguments.length&&void 0!==h?h:{},a=s;i.trim().split(wt).forEach(i=>{var h;zt||(h=t.listeners)&&h[i]&&h[i][s]&&(a=h[i][s],delete h[i][s],0===Object.keys(h[i]).length&&delete h[i],0===Object.keys(h).length&&delete t.listeners),t.removeEventListener(i,a,e)})}function y(t,i,s,h){var e=3<arguments.length&&void 0!==h?h:{},a=s;i.trim().split(wt).forEach(i=>{var h,r;e.once&&!zt&&(a=function(){delete r[i][s],t.removeEventListener(i,a,e);for(var h=arguments.length,n=new Array(h),o=0;o<h;o++)n[o]=arguments[o];s.apply(t,n)},(r=void 0===(h=t.listeners)?{}:h)[i]||(r[i]={}),r[i][s]&&t.removeEventListener(i,r[i][s],e),r[i][s]=a,t.listeners=r),t.addEventListener(i,a,e)})}function x(t,i,s,e){var a;return l(Event)&&l(CustomEvent)?a=new CustomEvent(i,h({bubbles:!0,cancelable:!0,detail:s},e)):(a=document.createEvent("CustomEvent")).initCustomEvent(i,!0,!0,s),t.dispatchEvent(a)}function k(t){var i=t.rotate,s=t.scaleX,h=t.scaleY,e=t.translateX,r=t.translateY;return t=[],a(e)&&0!==e&&t.push("translateX("+e+"px)"),a(r)&&0!==r&&t.push("translateY("+r+"px)"),a(i)&&0!==i&&t.push("rotate("+i+"deg)"),a(s)&&1!==s&&t.push("scaleX("+s+")"),a(h)&&1!==h&&t.push("scaleY("+h+")"),{WebkitTransform:t=t.length?t.join(" "):"none",msTransform:t,transform:t}}function T(t,i,s){var h,e=document.createElement("img");return t.naturalWidth&&!Ot?(s(t.naturalWidth,t.naturalHeight),e):(h=document.body||document.documentElement,e.onload=()=>{s(e.width,e.height),Ot||h.removeChild(e)},c(i.inheritedAttributes,i=>{var s=t.getAttribute(i);null!==s&&e.setAttribute(i,s)}),e.src=t.src,Ot||(e.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",h.appendChild(e)),e)}function z(t){switch(t){case 2:return"viewer-hide-xs-down";case 3:return"viewer-hide-sm-down";case 4:return"viewer-hide-md-down";default:return""}}function O(t,i){var s=t.pageX,e=t.pageY;return t={endX:s,endY:e},i?t:h({timeStamp:Date.now(),startX:s,startY:e},t)}var M,j,I,X,Y,E,N,S={backdrop:!0,button:!0,navbar:!0,title:!0,toolbar:!0,className:"",container:"body",filter:null,fullscreen:!0,inheritedAttributes:["crossOrigin","decoding","isMap","loading","referrerPolicy","sizes","srcset","useMap"],initialViewIndex:0,inline:!1,interval:5e3,keyboard:!0,focus:!0,loading:!0,loop:!0,minWidth:200,minHeight:100,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,slideOnTouch:!0,toggleOnDblclick:!0,tooltip:!0,transition:!0,zIndex:2015,zIndexInline:0,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,url:"src",ready:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null,move:null,moved:null,rotate:null,rotated:null,scale:null,scaled:null,zoom:null,zoomed:null,play:null,stop:null},A="undefined"!=typeof window&&void 0!==window.document,R=A?window:{},C=!(!A||!R.document.documentElement)&&"ontouchstart"in R.document.documentElement,D=A&&"PointerEvent"in R,L="viewer",P="move",F="switch",W="zoom",U=L+"-active",$=L+"-fade",V=L+"-fixed",Z=L+"-fullscreen-exit",q=L+"-hide",H=L+"-in",B=L+"-invisible",K=L+"-loading",G=L+"-open",J=L+"-show",Q=L+"-transition",_="click",tt="dblclick",it="dragstart",st="focusin",ht="keydown",et="load",at=D?"pointerdown":C?"touchstart":"mousedown",rt=D?"pointermove":C?"touchmove":"mousemove",nt=D?"pointerup pointercancel":C?"touchend touchcancel":"mouseup",ot="resize",lt="transitionend",ct="wheel",dt="ready",ut="show",vt="shown",mt="viewed",bt="rotated",ft=L+"Action",wt=/\s\s*/,pt=["zoom-in","zoom-out","one-to-one","reset","prev","play","next","rotate-left","rotate-right","flip-horizontal","flip-vertical"],gt=Number.isNaN||R.isNaN,yt={}.hasOwnProperty,xt=Object.assign||function(t){for(var i=arguments.length,s=new Array(1<i?i-1:0),h=1;h<i;h++)s[h-1]=arguments[h];return n(t)&&0<s.length&&s.forEach(i=>{n(i)&&Object.keys(i).forEach(s=>{t[s]=i[s]})}),t},kt=/^(?:width|height|left|top|marginLeft|marginTop)$/,Tt=/([a-z\d])([A-Z])/g,zt=(j=!1,A&&(M=!1,X=()=>{},Y=Object.defineProperty({},"once",{get(){return j=!0,M},set(t){M=t}}),R.addEventListener("test",X,Y),R.removeEventListener("test",X,Y)),j),Ot=R.navigator&&/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(R.navigator.userAgent),Mt={render(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initBody(){var t=this.element.ownerDocument,i=t.body||t.documentElement;this.body=i,this.scrollbarWidth=window.innerWidth-t.documentElement.clientWidth,this.initialBodyPaddingRight=i.style.paddingRight,this.initialBodyComputedPaddingRight=window.getComputedStyle(i).paddingRight},initContainer(){this.containerData={width:window.innerWidth,height:window.innerHeight}},initViewer(){var t,i=this.options,s=this.parent;i.inline&&(this.parentData=t={width:Math.max(s.offsetWidth,i.minWidth),height:Math.max(s.offsetHeight,i.minHeight)}),!this.fulled&&t||(t=this.containerData),this.viewerData=xt({},t)},renderViewer(){this.options.inline&&!this.fulled&&d(this.viewer,this.viewerData)},initList(){var t=this,i=this.element,s=this.options,h=this.list,a=[];h.innerHTML="",c(this.images,(i,r)=>{var n,o,l=i.src,d=i.alt||(e(n=l)?decodeURIComponent(n.replace(/^.*\//,"").replace(/[?&#].*$/,"")):""),u=t.getImageURL(i);(l||u)&&(n=document.createElement("li"),o=document.createElement("img"),c(s.inheritedAttributes,t=>{var s=i.getAttribute(t);null!==s&&o.setAttribute(t,s)}),o.src=l||u,o.alt=d,o.setAttribute("data-original-url",u||l),n.setAttribute("data-index",r),n.setAttribute("data-viewer-action","view"),n.setAttribute("role","button"),s.keyboard&&n.setAttribute("tabindex",0),n.appendChild(o),h.appendChild(n),a.push(n))}),c(this.items=a,i=>{var h=i.firstElementChild;p(h,"filled",!0),s.loading&&v(i,K),y(h,et,h=>{s.loading&&m(i,K),t.loadImage(h)},{once:!0})}),s.transition&&y(i,mt,()=>{v(h,Q)},{once:!0})},renderList(){var t,i=this.index,s=(t=this.items[i]).nextElementSibling,h=parseInt(window.getComputedStyle(s||t).marginLeft,10);d(this.list,xt({width:(t=(s=t.offsetWidth)+h)*this.length-h},k({translateX:(this.viewerData.width-s)/2-t*i})))},resetList(){var t=this.list;t.innerHTML="",m(t,Q),d(t,k({translateX:0}))},initImage(t){var i,s=this,h=this.options,e=this.image,a=this.viewerData,r=this.footer.offsetHeight,n=a.width,o=Math.max(a.height-r,r),l=this.imageData||{};this.imageInitializing={abort(){i.onload=null}},i=T(e,h,(i,e)=>{var a,r,c=i/e,d=n,u=o;s.imageInitializing=!1,n<o*c?u=n/c:d=o*c,e=xt({},i={left:a=(n-(d=Math.min(.9*d,i)))/2,top:r=(o-(u=Math.min(.9*u,e)))/2,x:a,y:r,width:d,height:u,oldRatio:1,ratio:d/i,aspectRatio:c,naturalWidth:i,naturalHeight:e}),h.rotatable&&(i.rotate=l.rotate||0,e.rotate=0),h.scalable&&(i.scaleX=l.scaleX||1,i.scaleY=l.scaleY||1,e.scaleX=1,e.scaleY=1),s.imageData=i,s.initialImageData=e,t&&t()})},renderImage(t){var i,s=this,h=this.image,e=this.imageData;d(h,xt({width:e.width,height:e.height,marginLeft:e.x,marginTop:e.y},k(e))),t&&((this.viewing||this.moving||this.rotating||this.scaling||this.zooming)&&this.options.transition&&u(h,Q)?(i=()=>{s.imageRendering=!1,t()},this.imageRendering={abort(){g(h,lt,i)}},y(h,lt,i,{once:!0})):t())},resetImage(){var t;(this.viewing||this.viewed)&&(t=this.image,this.viewing&&this.viewing.abort(),t.parentNode.removeChild(t),this.image=null)}};return D={bind(){var t=this.options,i=this.viewer,s=this.canvas,h=this.element.ownerDocument;y(i,_,this.onClick=this.click.bind(this)),y(i,it,this.onDragStart=this.dragstart.bind(this)),y(s,at,this.onPointerDown=this.pointerdown.bind(this)),y(h,rt,this.onPointerMove=this.pointermove.bind(this)),y(h,nt,this.onPointerUp=this.pointerup.bind(this)),y(h,ht,this.onKeyDown=this.keydown.bind(this)),y(window,ot,this.onResize=this.resize.bind(this)),t.zoomable&&t.zoomOnWheel&&y(i,ct,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),t.toggleOnDblclick&&y(s,tt,this.onDblclick=this.dblclick.bind(this))},unbind(){var t=this.options,i=this.viewer,s=this.canvas,h=this.element.ownerDocument;g(i,_,this.onClick),g(i,it,this.onDragStart),g(s,at,this.onPointerDown),g(h,rt,this.onPointerMove),g(h,nt,this.onPointerUp),g(h,ht,this.onKeyDown),g(window,ot,this.onResize),t.zoomable&&t.zoomOnWheel&&g(i,ct,this.onWheel,{passive:!1,capture:!0}),t.toggleOnDblclick&&g(s,tt,this.onDblclick)}},A={click(t){var i=this.options,s=this.imageData,h=t.target,e=w(h,ft);switch(e||"img"!==h.localName||"li"!==h.parentElement.localName||(e=w(h=h.parentElement,ft)),C&&t.isTrusted&&h===this.canvas&&clearTimeout(this.clickCanvasTimeout),e){case"mix":this.played?this.stop():i.inline?this.fulled?this.exit():this.full():this.hide();break;case"hide":this.hide();break;case"view":this.view(w(h,"index"));break;case"zoom-in":this.zoom(.1,!0);break;case"zoom-out":this.zoom(-.1,!0);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev(i.loop);break;case"play":this.play(i.fullscreen);break;case"next":this.next(i.loop);break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-s.scaleX||-1);break;case"flip-vertical":this.scaleY(-s.scaleY||-1);break;default:this.played&&this.stop()}},dblclick(t){t.preventDefault(),this.viewed&&t.target===this.image&&(C&&t.isTrusted&&clearTimeout(this.doubleClickImageTimeout),this.toggle(t))},load(){var t,i,s,h,e,a=this;this.timeout&&(clearTimeout(this.timeout),this.timeout=!1),t=this.element,i=this.options,h=this.index,e=this.viewerData,m(s=this.image,B),i.loading&&m(this.canvas,K),s.style.cssText="height:0;margin-left:"+e.width/2+"px;margin-top:"+e.height/2+"px;max-width:none!important;position:relative;width:0;",this.initImage(()=>{b(s,"viewer-move",i.movable),b(s,Q,i.transition),a.renderImage(()=>{a.viewed=!0,a.viewing=!1,l(i.viewed)&&y(t,mt,i.viewed,{once:!0}),x(t,mt,{originalImage:a.images[h],index:h,image:s},{cancelable:!1})})})},loadImage(t){var i=t.target,s=(t=i.parentNode).offsetWidth||30,h=t.offsetHeight||50,e=!!w(i,"filled");T(i,this.options,(t,a)=>{var r=t/a;t=s,a=h,s<h*r?e?t=h*r:a=s/r:e?a=s/r:t=h*r,d(i,xt({width:t,height:a},k({translateX:(s-t)/2,translateY:(h-a)/2})))})},keydown(t){var i,s=this.options;if(s.keyboard&&(13===(i=t.keyCode||t.which||t.charCode)&&this.viewer.contains(t.target)&&this.click(t),this.fulled))switch(i){case 27:this.played?this.stop():s.inline?this.fulled&&this.exit():this.hide();break;case 32:this.played&&this.stop();break;case 37:this.prev(s.loop);break;case 38:t.preventDefault(),this.zoom(s.zoomRatio,!0);break;case 39:this.next(s.loop);break;case 40:t.preventDefault(),this.zoom(-s.zoomRatio,!0);break;case 48:case 49:t.ctrlKey&&(t.preventDefault(),this.toggle())}},dragstart(t){"img"===t.target.localName&&t.preventDefault()},pointerdown(t){var i=this.options,s=this.pointers,h=t.buttons,e=t.button;!this.viewed||this.showing||this.viewing||this.hiding||("mousedown"===t.type||"pointerdown"===t.type&&"mouse"===t.pointerType)&&(a(h)&&1!==h||a(e)&&0!==e||t.ctrlKey)||(t.preventDefault(),t.changedTouches?c(t.changedTouches,t=>{s[t.identifier]=O(t)}):s[t.pointerId||0]=O(t),e=!!i.movable&&P,i.zoomOnTouch&&i.zoomable&&1<Object.keys(s).length?e=W:i.slideOnTouch&&("touch"===t.pointerType||"touchstart"===t.type)&&this.isSwitchable()&&(e=F),!i.transition||e!==P&&e!==W||m(this.image,Q),this.action=e)},pointermove(t){var i=this.pointers;this.viewed&&this.action&&(t.preventDefault(),t.changedTouches?c(t.changedTouches,t=>{xt(i[t.identifier]||{},O(t,!0))}):xt(i[t.pointerId||0]||{},O(t,!0)),this.change(t))},pointerup(t){var i,s=this,h=this.options,e=this.action,a=this.pointers;t.changedTouches?c(t.changedTouches,t=>{i=a[t.identifier],delete a[t.identifier]}):(i=a[t.pointerId||0],delete a[t.pointerId||0]),e&&(t.preventDefault(),!h.transition||e!==P&&e!==W||v(this.image,Q),this.action=!1,C&&e!==W&&i&&Date.now()-i.timeStamp<500&&(clearTimeout(this.clickCanvasTimeout),clearTimeout(this.doubleClickImageTimeout),h.toggleOnDblclick&&this.viewed&&t.target===this.image?this.imageClicked?(this.imageClicked=!1,this.doubleClickImageTimeout=setTimeout(()=>{x(s.image,tt)},50)):(this.imageClicked=!0,this.doubleClickImageTimeout=setTimeout(()=>{s.imageClicked=!1},500)):(this.imageClicked=!1,h.backdrop&&"static"!==h.backdrop&&t.target===this.canvas&&(this.clickCanvasTimeout=setTimeout(()=>{x(s.canvas,_)},50)))))},resize(){var t=this;this.isShown&&!this.hiding&&(this.fulled&&(this.close(),this.initBody(),this.open()),this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(()=>{t.renderImage()}),this.played&&(!this.options.fullscreen||!this.fulled||document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement?c(this.player.getElementsByTagName("img"),i=>{y(i,et,t.loadImage.bind(t),{once:!0}),x(i,et)}):this.stop()))},wheel(t){var i,s,h=this;this.viewed&&(t.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout(()=>{h.wheeling=!1},50),i=Number(this.options.zoomRatio)||.1,s=1,t.deltaY?s=0<t.deltaY?1:-1:t.wheelDelta?s=-t.wheelDelta/120:t.detail&&(s=0<t.detail?1:-1),this.zoom(-s*i,!0,t)))}},X={show(){var t,i,s=0<arguments.length&&void 0!==arguments[0]&&arguments[0],h=this.element,e=this.options;return e.inline||this.showing||this.isShown||this.showing?this:this.ready?(l(e.show)&&y(h,ut,e.show,{once:!0}),!1!==x(h,ut)&&this.ready?(this.hiding&&this.transitioning.abort(),this.showing=!0,this.open(),m(i=this.viewer,q),i.setAttribute("role","dialog"),i.setAttribute("aria-labelledby",this.title.id),i.setAttribute("aria-modal",!0),i.removeAttribute("aria-hidden"),e.transition&&!s?(t=this.shown.bind(this),this.transitioning={abort(){g(i,lt,t),m(i,H)}},v(i,Q),i.initialOffsetWidth=i.offsetWidth,y(i,lt,t,{once:!0}),v(i,H)):(v(i,H),this.shown()),this):this):(this.build(),this.ready&&this.show(s),this)},hide(){function t(){m(h,H),a.hidden()}var i,s,h,e,a=this,r=0<arguments.length&&void 0!==arguments[0]&&arguments[0],n=this.element,o=this.options;return o.inline||this.hiding||!this.isShown&&!this.showing||(l(o.hide)&&y(n,"hide",o.hide,{once:!0}),!1===x(n,"hide")||(this.showing&&this.transitioning.abort(),this.hiding=!0,this.played?this.stop():this.viewing&&this.viewing.abort(),h=this.viewer,e=this.image,o.transition&&!r?(i=function t(i){i&&i.target===h&&(g(h,lt,t),a.hidden())},s=()=>{u(h,Q)?(y(h,lt,i),m(h,H)):t()},this.transitioning={abort(){a.viewed&&u(e,Q)?g(e,lt,s):u(h,Q)&&g(h,lt,i)}},this.viewed&&u(e,Q)?(y(e,lt,s,{once:!0}),this.zoomTo(0,!1,null,!0)):s()):t())),this},view(){function t(){var t=b.imageData,i=Array.isArray(s.title)?s.title[1]:s.title;h.textContent=l(i)?i.call(b,d,t):o+" ("+t.naturalWidth+" \xd7 "+t.naturalHeight+")"}var i,s,h,e,a,r,n,o,d,u,b=this,f=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.options.initialViewIndex;return f=Number(f)||0,this.hiding||this.played||f<0||f>=this.length||this.viewed&&f===this.index?this:this.isShown?(this.viewing&&this.viewing.abort(),i=this.element,s=this.options,h=this.title,e=this.canvas,n=w(r=(a=this.items[f]).querySelector("img"),"originalUrl"),o=r.getAttribute("alt"),d=document.createElement("img"),c(s.inheritedAttributes,t=>{var i=r.getAttribute(t);null!==i&&d.setAttribute(t,i)}),d.src=n,d.alt=o,l(s.view)&&y(i,"view",s.view,{once:!0}),!1===x(i,"view",{originalImage:this.images[f],index:f,image:d})||!this.isShown||this.hiding||this.played||((n=this.items[this.index])&&(m(n,U),n.removeAttribute("aria-selected")),v(a,U),a.setAttribute("aria-selected",!0),s.focus&&a.focus(),this.image=d,this.viewed=!1,this.index=f,this.imageData={},v(d,B),s.loading&&v(e,K),e.innerHTML="",e.appendChild(d),this.renderList(),h.innerHTML="",y(i,mt,t,{once:!0}),this.viewing={abort(){g(i,mt,t),d.complete?b.imageRendering?b.imageRendering.abort():b.imageInitializing&&b.imageInitializing.abort():(d.src="",g(d,et,u),b.timeout&&clearTimeout(b.timeout))}},d.complete?this.load():(y(d,et,u=this.load.bind(this),{once:!0}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{m(d,B),b.timeout=!1},1e3))),this):(this.index=f,this.show())},prev(){var t=this.index-1;return t<0&&(t=0<arguments.length&&void 0!==arguments[0]&&arguments[0]?this.length-1:0),this.view(t),this},next(){var t=this.length-1,i=this.index+1;return t<i&&(i=0<arguments.length&&void 0!==arguments[0]&&arguments[0]?0:t),this.view(i),this},move(t){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:t,s=this.imageData;return this.moveTo(r(t)?t:s.x+Number(t),r(i)?i:s.y+Number(i)),this},moveTo(t){var i,s,h,e=this,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:t,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,o=this.element,c=this.options,d=this.imageData;if(t=Number(t),r=Number(r),this.viewed&&!this.played&&c.movable&&(i=d.x,s=d.y,h=!1,a(t)?h=!0:t=i,a(r)?h=!0:r=s,h)){if(l(c.move)&&y(o,"move",c.move,{once:!0}),!1===x(o,"move",{x:t,y:r,oldX:i,oldY:s,originalEvent:n}))return this;d.x=t,d.y=r,d.left=t,d.top=r,this.moving=!0,this.renderImage(()=>{e.moving=!1,l(c.moved)&&y(o,"moved",c.moved,{once:!0}),x(o,"moved",{x:t,y:r,oldX:i,oldY:s,originalEvent:n},{cancelable:!1})})}return this},rotate(t){return this.rotateTo((this.imageData.rotate||0)+Number(t)),this},rotateTo(t){var i,s=this,h=this.element,e=this.options,r=this.imageData;if(a(t=Number(t))&&this.viewed&&!this.played&&e.rotatable){if(i=r.rotate,l(e.rotate)&&y(h,"rotate",e.rotate,{once:!0}),!1===x(h,"rotate",{degree:t,oldDegree:i}))return this;r.rotate=t,this.rotating=!0,this.renderImage(()=>{s.rotating=!1,l(e.rotated)&&y(h,bt,e.rotated,{once:!0}),x(h,bt,{degree:t,oldDegree:i},{cancelable:!1})})}return this},scaleX(t){return this.scale(t,this.imageData.scaleY),this},scaleY(t){return this.scale(this.imageData.scaleX,t),this},scale(t){var i,s,h,e=this,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:t,n=this.element,o=this.options,c=this.imageData;if(t=Number(t),r=Number(r),this.viewed&&!this.played&&o.scalable&&(i=c.scaleX,s=c.scaleY,h=!1,a(t)?h=!0:t=i,a(r)?h=!0:r=s,h)){if(l(o.scale)&&y(n,"scale",o.scale,{once:!0}),!1===x(n,"scale",{scaleX:t,scaleY:r,oldScaleX:i,oldScaleY:s}))return this;c.scaleX=t,c.scaleY=r,this.scaling=!0,this.renderImage(()=>{e.scaling=!1,l(o.scaled)&&y(n,"scaled",o.scaled,{once:!0}),x(n,"scaled",{scaleX:t,scaleY:r,oldScaleX:i,oldScaleY:s},{cancelable:!1})})}return this},zoom(t){var i=1<arguments.length&&void 0!==arguments[1]&&arguments[1],s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,h=this.imageData;return t=(t=Number(t))<0?1/(1-t):1+t,this.zoomTo(h.width*t/h.naturalWidth,i,s),this},zoomTo(t){var i,s,h,e,r,n,o=this,d=1<arguments.length&&void 0!==arguments[1]&&arguments[1],u=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,v=3<arguments.length&&void 0!==arguments[3]&&arguments[3],m=this.element,b=this.options,f=this.pointers,w=this.imageData,p=w.x,g=w.y,k=w.width,T=w.height,z=w.naturalWidth,O=w.naturalHeight;if(a(t=Math.max(0,t))&&this.viewed&&!this.played&&(v||b.zoomable)){if(v||(e=Math.max(.01,b.minZoomRatio),r=Math.min(100,b.maxZoomRatio),t=Math.min(Math.max(t,e),r)),u&&.055<=b.zoomRatio&&.95<t&&t<1.05&&(t=1),r=(v=z*t)-k,z=(e=O*t)-T,n=w.ratio,l(b.zoom)&&y(m,"zoom",b.zoom,{once:!0}),!1===x(m,"zoom",{ratio:t,oldRatio:n,originalEvent:u}))return this;this.zooming=!0,u?(O={left:(O=(O=this.viewer).getBoundingClientRect()).left+(window.pageXOffset-document.documentElement.clientLeft),top:O.top+(window.pageYOffset-document.documentElement.clientTop)},f=f&&Object.keys(f).length?(h=s=i=0,c(f,t=>{i+=t.startX,s+=t=t.startY,h+=1}),{pageX:i/=h,pageY:s/=h}):{pageX:u.pageX,pageY:u.pageY},w.x-=(f.pageX-O.left-p)/k*r,w.y-=(f.pageY-O.top-g)/T*z):(w.x-=r/2,w.y-=z/2),w.left=w.x,w.top=w.y,w.width=v,w.height=e,w.oldRatio=n,w.ratio=t,this.renderImage(()=>{o.zooming=!1,l(b.zoomed)&&y(m,"zoomed",b.zoomed,{once:!0}),x(m,"zoomed",{ratio:t,oldRatio:n,originalEvent:u},{cancelable:!1})}),d&&this.tooltip()}return this},play(){var t,i,s,h,e,r,n,o=this,d=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return!this.isShown||this.played||(t=this.element,l((i=this.options).play)&&y(t,"play",i.play,{once:!0}),!1===x(t,"play")||(s=this.player,h=this.loadImage.bind(this),e=[],r=0,n=0,this.played=!0,this.onLoadWhenPlay=h,d&&this.requestFullscreen(d),v(s,J),c(this.items,(t,a)=>{var o=t.querySelector("img"),l=document.createElement("img");l.src=w(o,"originalUrl"),l.alt=o.getAttribute("alt"),l.referrerPolicy=o.referrerPolicy,r+=1,v(l,$),b(l,Q,i.transition),u(t,U)&&(v(l,H),n=a),e.push(l),y(l,et,h,{once:!0}),s.appendChild(l)}),a(i.interval)&&0<i.interval&&1<r&&(function t(){o.playing=setTimeout(()=>{m(e[n],H),v(e[n=(n+=1)<r?n:0],H),t()},i.interval)})())),this},stop(){var t,i,s=this;return this.played?(t=this.element,l((i=this.options).stop)&&y(t,"stop",i.stop,{once:!0}),!1===x(t,"stop")||(t=this.player,this.played=!1,clearTimeout(this.playing),c(t.getElementsByTagName("img"),t=>{g(t,et,s.onLoadWhenPlay)}),m(t,J),t.innerHTML="",this.exitFullscreen()),this):this},full(){var t=this,i=this.options,s=this.viewer,h=this.image,e=this.list;return!this.isShown||this.played||this.fulled||!i.inline||(this.fulled=!0,this.open(),v(this.button,Z),i.transition&&(m(e,Q),this.viewed&&m(h,Q)),v(s,V),s.setAttribute("role","dialog"),s.setAttribute("aria-labelledby",this.title.id),s.setAttribute("aria-modal",!0),s.removeAttribute("style"),d(s,{zIndex:i.zIndex}),i.focus&&this.enforceFocus(),this.initContainer(),this.viewerData=xt({},this.containerData),this.renderList(),this.viewed&&this.initImage(()=>{t.renderImage(()=>{i.transition&&setTimeout(()=>{v(h,Q),v(e,Q)},0)})})),this},exit(){var t=this,i=this.options,s=this.viewer,h=this.image,e=this.list;return this.isShown&&!this.played&&this.fulled&&i.inline&&(this.fulled=!1,this.close(),m(this.button,Z),i.transition&&(m(e,Q),this.viewed&&m(h,Q)),i.focus&&this.clearEnforceFocus(),s.removeAttribute("role"),s.removeAttribute("aria-labelledby"),s.removeAttribute("aria-modal"),m(s,V),d(s,{zIndex:i.zIndexInline}),this.viewerData=xt({},this.parentData),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(()=>{t.renderImage(()=>{i.transition&&setTimeout(()=>{v(h,Q),v(e,Q)},0)})})),this},tooltip(){var t=this,i=this.options,s=this.tooltipBox;return this.viewed&&!this.played&&i.tooltip&&(s.textContent=Math.round(100*this.imageData.ratio)+"%",this.tooltipping?clearTimeout(this.tooltipping):i.transition?(this.fading&&x(s,lt),v(s,J),v(s,$),v(s,Q),s.removeAttribute("aria-hidden"),s.initialOffsetWidth=s.offsetWidth,v(s,H)):(v(s,J),s.removeAttribute("aria-hidden")),this.tooltipping=setTimeout(()=>{i.transition?(y(s,lt,()=>{m(s,J),m(s,$),m(s,Q),s.setAttribute("aria-hidden",!0),t.fading=!1},{once:!0}),m(s,H),t.fading=!0):(m(s,J),s.setAttribute("aria-hidden",!0)),t.tooltipping=!1},1e3)),this},toggle(){return this.zoomTo(1===this.imageData.ratio?this.imageData.oldRatio:1,!0,0<arguments.length&&void 0!==arguments[0]?arguments[0]:null),this},reset(){return this.viewed&&!this.played&&(this.imageData=xt({},this.initialImageData),this.renderImage()),this},update(){var t,i,s=this,h=this.element,e=this.options,a=this.isImg;return a&&!h.parentNode?this.destroy():(i=[],c(a?[h]:h.querySelectorAll("img"),t=>{l(e.filter)?e.filter.call(s,t)&&i.push(t):s.getImageURL(t)&&i.push(t)}),i.length&&(this.images=i,this.length=i.length,this.ready?(t=[],c(this.items,(s,h)=>{var e=s.querySelector("img");(s=i[h])&&e&&s.src===e.src&&s.alt===e.alt||t.push(h)}),d(this.list,{width:"auto"}),this.initList(),this.isShown&&(this.length?this.viewed&&(0<=(h=t.indexOf(this.index))?(this.viewed=!1,this.view(Math.max(Math.min(this.index-h,this.length-1),0))):(v(h=this.items[this.index],U),h.setAttribute("aria-selected",!0))):(this.image=null,this.viewed=!1,this.index=0,this.imageData={},this.canvas.innerHTML="",this.title.innerHTML=""))):this.build()),this)},destroy(){var t=this.element,i=this.options;return t[L]&&(this.destroyed=!0,this.ready?(this.played&&this.stop(),i.inline?(this.fulled&&this.exit(),this.unbind()):this.isShown?(this.viewing&&(this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort()),this.hiding&&this.transitioning.abort(),this.hidden()):this.showing&&(this.transitioning.abort(),this.hidden()),this.ready=!1,this.viewer.parentNode.removeChild(this.viewer)):i.inline&&(this.delaying?this.delaying.abort():this.initializing&&this.initializing.abort()),i.inline||g(t,_,this.onStart),t[L]=void 0),this}},Y={getImageURL(t){var i=this.options.url;return e(i)?t.getAttribute(i):l(i)?i.call(this,t):""},enforceFocus(){var t=this;this.clearEnforceFocus(),y(document,st,this.onFocusin=i=>{var s=t.viewer;(i=i.target)===document||i===s||s.contains(i)||null!==i.getAttribute("tabindex")&&"true"===i.getAttribute("aria-modal")||s.focus()})},clearEnforceFocus(){this.onFocusin&&(g(document,st,this.onFocusin),this.onFocusin=null)},open(){var t=this.body;v(t,G),t.style.paddingRight=this.scrollbarWidth+(parseFloat(this.initialBodyComputedPaddingRight)||0)+"px"},close(){var t=this.body;m(t,G),t.style.paddingRight=this.initialBodyPaddingRight},shown(){var t=this.element,i=this.options,s=this.viewer;this.fulled=!0,this.isShown=!0,this.render(),this.bind(),this.showing=!1,i.focus&&(s.focus(),this.enforceFocus()),l(i.shown)&&y(t,vt,i.shown,{once:!0}),!1!==x(t,vt)&&this.ready&&this.isShown&&!this.hiding&&this.view(this.index)},hidden(){var t=this.element,i=this.options,s=this.viewer;i.fucus&&this.clearEnforceFocus(),this.fulled=!1,this.viewed=!1,this.isShown=!1,this.close(),this.unbind(),v(s,q),s.removeAttribute("role"),s.removeAttribute("aria-labelledby"),s.removeAttribute("aria-modal"),s.setAttribute("aria-hidden",!0),this.resetList(),this.resetImage(),this.hiding=!1,this.destroyed||(l(i.hidden)&&y(t,"hidden",i.hidden,{once:!0}),x(t,"hidden",null,{cancelable:!1}))},requestFullscreen(t){var i=this.element.ownerDocument;this.fulled&&!(i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement||i.msFullscreenElement)&&((i=i.documentElement).requestFullscreen?o(t)?i.requestFullscreen(t):i.requestFullscreen():i.webkitRequestFullscreen?i.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):i.mozRequestFullScreen?i.mozRequestFullScreen():i.msRequestFullscreen&&i.msRequestFullscreen())},exitFullscreen(){var t=this.element.ownerDocument;this.fulled&&(t.fullscreenElement||t.webkitFullscreenElement||t.mozFullScreenElement||t.msFullscreenElement)&&(t.exitFullscreen?t.exitFullscreen():t.webkitExitFullscreen?t.webkitExitFullscreen():t.mozCancelFullScreen?t.mozCancelFullScreen():t.msExitFullscreen&&t.msExitFullscreen())},change(t){var i,s,e,a,r,n=this.options,o=this.pointers,l=o[Object.keys(o)[0]];if(l){switch(e=l.endX-l.startX,a=l.endY-l.startY,this.action){case P:this.move(e,a,t);break;case W:this.zoom((i=h({},r=o),s=[],c(r,(t,h)=>{delete i[h],c(i,i=>{var h=Math.abs(t.startX-i.startX),e=Math.abs(t.startY-i.startY),a=Math.abs(t.endX-i.endX);i=Math.abs(t.endY-i.endY),e=Math.sqrt(h*h+e*e),e=(Math.sqrt(a*a+i*i)-e)/e,s.push(e)})}),s.sort((t,i)=>Math.abs(t)<Math.abs(i)),s[0]),!1,t);break;case F:this.action="switched",1<(r=Math.abs(e))&&r>Math.abs(a)&&(this.pointers={},1<e?this.prev(n.loop):e<-1&&this.next(n.loop))}c(o,t=>{t.startX=t.endX,t.startY=t.endY})}},isSwitchable(){var t=this.imageData,i=this.viewerData;return 1<this.length&&0<=t.x&&0<=t.y&&t.width<=i.width&&t.height<=i.height}},E=R.Viewer,I=-1,N=()=>I+=1,R=(function(){function t(i){var s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if((()=>{if(!(this instanceof t))throw new TypeError("Cannot call a class as a function")})(),!i||1!==i.nodeType)throw new Error("The first argument is required and must be an element.");this.element=i,this.options=xt({},S,o(s)&&s),this.action=!1,this.fading=!1,this.fulled=!1,this.hiding=!1,this.imageClicked=!1,this.imageData={},this.index=this.options.initialViewIndex,this.isImg=!1,this.isShown=!1,this.length=0,this.moving=!1,this.played=!1,this.playing=!1,this.pointers={},this.ready=!1,this.rotating=!1,this.scaling=!1,this.showing=!1,this.timeout=!1,this.tooltipping=!1,this.viewed=!1,this.viewing=!1,this.wheeling=!1,this.zooming=!1,this.id=N(),this.init()}var s,h,n;return s=t,n=[{key:"noConflict",value(){return window.Viewer=E,t}},{key:"setDefaults",value(t){xt(S,o(t)&&t)}}],(h=[{key:"init",value(){var t,i,s,h,e=this,a=this.element,n=this.options;a[L]||(a[L]=this,n.focus&&!n.keyboard&&(n.focus=!1),i=[],c((t="img"===a.localName)?[a]:a.querySelectorAll("img"),t=>{l(n.filter)?n.filter.call(e,t)&&i.push(t):e.getImageURL(t)&&i.push(t)}),this.isImg=t,this.length=i.length,this.images=i,this.initBody(),r(document.createElement(L).style.transition)&&(n.transition=!1),n.inline?(s=0,h=()=>{var t;(s+=1)===e.length&&(e.initializing=!1,e.delaying={abort(){clearTimeout(t)}},t=setTimeout(()=>{e.delaying=!1,e.build()},0))},this.initializing={abort(){c(i,t=>{t.complete||g(t,et,h)})}},c(i,t=>{t.complete?h():y(t,et,h,{once:!0})})):y(a,_,this.onStart=t=>{"img"!==(t=t.target).localName||l(n.filter)&&!n.filter.call(e,t)||e.view(e.images.indexOf(t))}))}},{key:"build",value(){var t,i,s,h,n,u,m,w,g,k,T,O,M,j;this.ready||(i=this.options,s=(t=this.element).parentNode,(M=document.createElement("div")).innerHTML='<div class="viewer-container" tabindex="-1" touch-action="none"><div class="viewer-canvas"></div><div class="viewer-footer"><div class="viewer-title"></div><div class="viewer-toolbar"></div><div class="viewer-navbar"><ul class="viewer-list" role="navigation"></ul></div></div><div class="viewer-tooltip" role="alert" aria-hidden="true"></div><div class="viewer-button" data-viewer-action="mix" role="button"></div><div class="viewer-player"></div></div>',n=(h=M.querySelector("."+L+"-container")).querySelector("."+L+"-title"),u=h.querySelector("."+L+"-toolbar"),m=h.querySelector("."+L+"-navbar"),j=h.querySelector("."+L+"-button"),M=h.querySelector("."+L+"-canvas"),this.parent=s,this.viewer=h,this.title=n,this.toolbar=u,this.navbar=m,this.button=j,this.canvas=M,this.footer=h.querySelector("."+L+"-footer"),this.tooltipBox=h.querySelector("."+L+"-tooltip"),this.player=h.querySelector("."+L+"-player"),this.list=h.querySelector("."+L+"-list"),h.id=L+this.id,n.id=L+"Title"+this.id,v(n,i.title?z(Array.isArray(i.title)?i.title[0]:i.title):q),v(m,i.navbar?z(i.navbar):q),b(j,q,!i.button),i.keyboard&&j.setAttribute("tabindex",0),i.backdrop&&(v(h,L+"-backdrop"),i.inline||"static"===i.backdrop||p(M,ft,"hide")),e(i.className)&&i.className&&i.className.split(wt).forEach(t=>{v(h,t)}),i.toolbar?(w=document.createElement("ul"),g=o(i.toolbar),k=pt.slice(0,3),T=pt.slice(7,9),O=pt.slice(9),g||v(u,z(i.toolbar)),c(g?i.toolbar:pt,(t,s)=>{var h=g&&o(t),e=g?f(s):t,n=h&&!r(t.show)?t.show:t;!n||!i.zoomable&&-1!==k.indexOf(e)||!i.rotatable&&-1!==T.indexOf(e)||!i.scalable&&-1!==O.indexOf(e)||(s=h&&!r(t.size)?t.size:t,h=h&&!r(t.click)?t.click:t,t=document.createElement("li"),i.keyboard&&t.setAttribute("tabindex",0),t.setAttribute("role","button"),v(t,L+"-"+e),l(h)||p(t,ft,e),a(n)&&v(t,z(n)),-1!==["small","large"].indexOf(s)?v(t,L+"-"+s):"play"===e&&v(t,L+"-large"),l(h)&&y(t,_,h),w.appendChild(t))}),u.appendChild(w)):v(u,q),i.rotatable||(v(M=u.querySelectorAll('li[class*="rotate"]'),B),c(M,t=>{u.appendChild(t)})),i.inline?(v(j,"viewer-fullscreen"),d(h,{zIndex:i.zIndexInline}),"static"===window.getComputedStyle(s).position&&d(s,{position:"relative"}),s.insertBefore(h,t.nextSibling)):(v(j,"viewer-close"),v(h,V),v(h,$),v(h,q),d(h,{zIndex:i.zIndex}),e(j=i.container)&&(j=t.ownerDocument.querySelector(j)),(j=j||this.body).appendChild(h)),i.inline&&(this.render(),this.bind(),this.isShown=!0),this.ready=!0,l(i.ready)&&y(t,dt,i.ready,{once:!0}),!1!==x(t,dt)?this.ready&&i.inline&&this.view(this.index):this.ready=!1)}}])&&i(s.prototype,h),n&&i(s,n),t})(),xt(R.prototype,Mt,D,A,X,Y),R});